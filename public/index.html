<!DOCTYPE html>
<html>
    <head>
        <title>Cards Against Humanity</title>
        <link rel="icon" href="/static/img/favicon.ico"></head>
        <script src="/socket.io/socket.io.js"></script>
    </head>
    <body>
        <noscript>
            <link rel="stylesheet" href="/static/css/nojs.css">
            <div class="nojs-message">
                Du hast JavaScript in deinem Browser deaktiviert, welches notwendig ist um diese Website anzuzeigen. Ã„ndere dies in deinen Browsereinstellungen und aktualisiere die Seite um fortzufahren.
            </div>
        </noscript>
        <div class="page-container">
            <form action="javascript:void(0);" class="login-form">
                <label for="user-name">Name:</span>
                <input type="text" id="user-name" autocomplete="off" />
                <button class="login-submit" disabled>Einloggen</button>
            </form>
        </div>
        <script>
            const login_form = document.querySelector('.login-form');
            const login_input_field = login_form.querySelector('input#user-name');
            const login_submit_button = login_form.querySelector('button.login-submit');

            // The user name input field must contain at least one character:
            const user_name_min_length = 1;
            login_input_field.addEventListener('input', function (e) {   
                login_submit_button.disabled = this.value.length < user_name_min_length;
            });

            const socket = io(); // initialise a socket connection
            login_submit_button.addEventListener('click', function (e) {
                // send the login credentials
                socket.emit('login', {
                    'user-name': login_input_field.value
                });
            });
        </script>
    </body>
</html>